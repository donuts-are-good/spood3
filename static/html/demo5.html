<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Weather Dashboard · Demo 5 · Parchment Atlas</title>
  <style>
    :root{
      --bg:#0a0a0a; --ink:#ffffff; --dim:#c7b37a; --line:#2a2a2a; --gold:#d4b972; --accent:#ffcc66; --panel:#000;
      --good:#4caf50; --warn:#ff9800; --bad:#f44336; --blue:#5ad1ff; --teal:#40e0d0; --rose:#ff6fb3; --vio:#b39ddb;
    }
    html,body{margin:0;background:var(--bg);color:var(--ink);font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial}
    .frame{max-width:1280px;margin:30px auto;padding:24px;border:1px solid var(--gold);border-radius:14px;box-shadow:0 10px 30px rgba(0,0,0,.5);background:linear-gradient(180deg,#0b0b0b,#050505)}
    .title{font-family: "Georgia",serif; text-transform:uppercase; letter-spacing:3px; text-align:center; font-size:28px;}
    .divider{height:2px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:14px 0}
    .cards{display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:var(--panel);border:1px solid var(--line);border-radius:12px;overflow:hidden;display:flex;flex-direction:column}
    .card h3{margin:0;padding:12px 14px;border-bottom:1px solid var(--line);font-size:13px;letter-spacing:2px;text-transform:uppercase;color:var(--accent)}
    .pad{padding:14px}
    .kv{display:grid;grid-template-columns:1fr 1fr;gap:10px}
    .chip{background:#0f0f0f;border:1px solid var(--line);border-radius:10px;padding:10px}
    .k{display:block;color:#a9a9a9;font-size:12px;text-transform:uppercase;letter-spacing:1px}
    .v{display:block;font-weight:700;font-size:18px}
    .ribbon{height:14px;border:1px solid var(--line);border-radius:999px;overflow:hidden;display:flex;margin-top:10px}
    .seg{flex:1}
    .chart{height:160px;border:1px solid var(--line);border-radius:10px;background:#090909}
    .mini{height:160px;border:1px solid var(--line);border-radius:10px;background:#090909}
    .btns{display:flex;justify-content:space-between;align-items:center;margin-top:16px}
    .stamp{border:2px solid var(--gold);color:var(--gold);padding:6px 10px;border-radius:999px;text-transform:uppercase;letter-spacing:2px}
    .btn{background:#111;border:1px solid #444;color:#fff;padding:6px 10px;border-radius:8px;text-decoration:none}
    .btn:hover{background:#1a1a1a}
  </style>
</head>
<body>
  <div class="frame">
    <div class="title">Department of Recreational Meteorology · Atlas (Prototype)</div>
    <div class="divider"></div>

    <div class="cards">
      <!-- Weekly Card -->
      <div class="card">
        <h3>Weekly Card</h3>
        <div class="pad">
          <div class="kv">
            <div class="chip"><span class="k">Biome</span><span class="v" id="biome"></span></div>
            <div class="chip"><span class="k">Pizza</span><span class="v" id="pizza"></span></div>
            <div class="chip"><span class="k">Officials</span><span class="v" id="off"></span></div>
            <div class="chip"><span class="k">Time‑Mode</span><span class="v" id="tm"></span></div>
          </div>
          <div class="ribbon" id="rib"></div>
        </div>
      </div>

      <!-- Daily Trackers: viscosity/temp -->
      <div class="card">
        <h3>Daily Trackers</h3>
        <div class="pad">
          <svg class="chart" id="c1" viewBox="0 0 420 160"></svg>
          <svg class="chart" id="c2" viewBox="0 0 420 160" style="margin-top:10px"></svg>
        </div>
      </div>

      <!-- Wind Map -->
      <div class="card">
        <h3>Wind Map</h3>
        <div class="pad">
          <svg class="mini" id="rose" viewBox="0 0 420 160"></svg>
        </div>
      </div>

      <!-- Counts -->
      <div class="card">
        <h3>Counts</h3>
        <div class="pad kv" id="counts"></div>
      </div>

      <!-- Events -->
      <div class="card">
        <h3>Events</h3>
        <div class="pad" id="events"></div>
      </div>

      <!-- Notes -->
      <div class="card">
        <h3>Notes</h3>
        <div class="pad" id="notes"></div>
      </div>
    </div>

    <div class="btns">
      <div class="stamp">Filed · Prototype</div>
      <div>
        <a class="btn" href="demo1.html">Style Reference</a>
        <a class="btn" href="demo4.html">Layout Reference</a>
      </div>
    </div>
  </div>

  <script>
  // Deterministic smooth synthesis (FBM-like)
  function hash(str){let h=2166136261>>>0;for(let i=0;i<str.length;i++){h^=str.charCodeAt(i);h=Math.imul(h,16777619)}return h>>>0}
  function rng(seed){let a=seed>>>0;return ()=>{a|=0;a=a+0x6D2B79F5|0;let t=Math.imul(a^a>>>15,1|a);t=t+Math.imul(t^t>>>7,61|t)^t;return ((t^t>>>14)>>>0)/4294967296}}
  function fbm(t, r){const o=[1,.55,.3,.15], f=[.8,1.7,3.5,7.1];let s=0,a=0;for(let i=0;i<o.length;i++){s+=o[i]*Math.sin(t*f[i]+r[i]);a+=o[i]}return s/a}
  function series(n,d,s){const R=rng(hash(n+s));const ph=[R()*6.28,R()*6.28,R()*6.28,R()*6.28];const arr=[];for(let i=0;i<d;i++)arr.push(fbm(i/1.6,ph));return arr}
  function map(v,min,max){return min+(v*0.5+0.5)*(max-min)}

  const seed='ATLAS-PARCHMENT-'+new Date().toISOString().slice(0,10), days=7;
  const visc=series('v',days,seed).map(v=>Math.round(map(v,2000,80000)));
  const temp=series('t',days,seed).map(v=>Math.round(map(v,0,100)));
  const rain=series('r',days,seed).map(v=>Math.max(0,Math.round(map(v,0,120)-40)));
  const windS=series('ws',days,seed).map(v=>Math.round(map(v,2,35)));
  const windD=series('wd',days,seed).map(v=>Math.round(map(v,0,359)));

  const biomes=['Arena Suburbia','Industrial Coast','Tundra Arcade','Mega‑Mall'];
  const pizzas=['very bad','meh','good','oh yeah','very great','amazing'];
  const officials=['bribed','resisting bribe','complicit','difficult','expensive'];
  document.getElementById('biome').textContent=biomes[hash(seed)%biomes.length];
  document.getElementById('pizza').textContent=pizzas[hash(seed+'p')%pizzas.length];
  document.getElementById('off').textContent=officials[hash(seed+'o')%officials.length];
  document.getElementById('tm').textContent=String.fromCharCode(65+(hash(seed+'t')%6));

  // Ribbon regimes (color bands)
  (function(){const rib=document.getElementById('rib'); const cols=['#2e7d32','#8d6e63','#b71c1c','#5c6bc0','#ff8f00']; for(let i=0;i<days;i++){const s=document.createElement('div'); s.className='seg'; s.style.background=cols[i%cols.length]; rib.appendChild(s)}})();

  // Line charts
  function line(svgId,arr,col,min,max){const svg=document.getElementById(svgId); const W=420,H=160,P=18; svg.innerHTML='';
    // grid
    for(let i=0;i<=6;i++){const x=P+i*((W-2*P)/6); const g=document.createElementNS('http://www.w3.org/2000/svg','line'); g.setAttribute('x1',x);g.setAttribute('y1',P);g.setAttribute('x2',x);g.setAttribute('y2',H-P);g.setAttribute('stroke','#1e1e1e'); svg.appendChild(g)}
    for(let j=0;j<3;j++){const y=P+j*((H-2*P)/3); const g=document.createElementNS('http://www.w3.org/2000/svg','line'); g.setAttribute('x1',P);g.setAttribute('y1',y);g.setAttribute('x2',W-P);g.setAttribute('y2',y);g.setAttribute('stroke','#1e1e1e'); svg.appendChild(g)}
    let path=''; for(let i=0;i<arr.length;i++){const x=P+i*((W-2*P)/(arr.length-1)); const y=P+(1-((arr[i]-min)/(max-min)))*(H-2*P); path+=`${i?'L':'M'}${x},${y} `}
    const p=document.createElementNS('http://www.w3.org/2000/svg','path'); p.setAttribute('d',path); p.setAttribute('fill','none'); p.setAttribute('stroke',col); p.setAttribute('stroke-width','2.5'); svg.appendChild(p);
    // precipitation overlay
    for(let i=0;i<rain.length;i++){const x=P+i*((W-2*P)/rain.length); const h=(rain[i]/100)*(H-2*P); const r=document.createElementNS('http://www.w3.org/2000/svg','rect'); r.setAttribute('x',x-5); r.setAttribute('y',H-P-h); r.setAttribute('width',10); r.setAttribute('height',h); r.setAttribute('fill','rgba(64,224,208,0.28)'); r.setAttribute('stroke','rgba(64,224,208,0.7)'); svg.appendChild(r)}
  }
  line('c1', visc, 'var(--blue)', 0, 100000);
  line('c2', temp, 'var(--rose)', -20, 120);

  // Wind rose (mini)
  (function(){const svg=document.getElementById('rose'); const W=420,H=160,cx=W/2,cy=H/2,r=60; svg.innerHTML='';
    const circle=(rad)=>{const c=document.createElementNS('http://www.w3.org/2000/svg','circle'); c.setAttribute('cx',cx);c.setAttribute('cy',cy);c.setAttribute('r',rad);c.setAttribute('fill','none');c.setAttribute('stroke','#222'); svg.appendChild(c)}; circle(r); circle(r*0.66); circle(r*0.33);
    for(let i=0;i<days;i++){const a=(windD[i]-90)*Math.PI/180; const len=(windS[i]/40)*r; const x=cx+Math.cos(a)*len; const y=cy+Math.sin(a)*len; const l=document.createElementNS('http://www.w3.org/2000/svg','line'); l.setAttribute('x1',cx);l.setAttribute('y1',cy);l.setAttribute('x2',x);l.setAttribute('y2',y); l.setAttribute('stroke','var(--teal)'); l.setAttribute('stroke-width','3'); l.setAttribute('opacity',.7); svg.appendChild(l)}
  })();

  // Counts
  (function(){const counts=document.getElementById('counts'); const items=[['Hornets', Math.round(map(series('h',1,seed)[0],0,6))], ['Lightning', Math.round(map(series('l',1,seed)[0],0,9))], ['Toe Audits', Math.round(map(series('ta',1,seed)[0],0,5))], ['Snack Rain', Math.round(map(series('sn',1,seed)[0],0,100))+'%']];
    for(const [k,v] of items){const c=document.createElement('div'); c.className='chip'; c.innerHTML=`<span class="k">${k}</span><span class="v">${v}</span>`; counts.appendChild(c)} })();

  // Events & Notes
  (function(){const ev=document.getElementById('events'); const nt=document.getElementById('notes'); for(let i=0;i<days;i++){const line=`Day ${i+1}: temp ${temp[i]}°F, visc ${visc[i]} cP, rain ${rain[i]}mm.`; const p=document.createElement('div'); p.textContent=line; nt.appendChild(p); if(rain[i]>60){const e=document.createElement('div'); e.textContent=`Day ${i+1}: Snack rain advisory`; ev.appendChild(e)}} })();
  </script>
</body>
</html>


